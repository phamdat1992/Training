(*   Cham bai day so  *)
uses crt;
const
     fin: string = 'DAY.INP';
     fou: string = 'DAY.OUT';
     dapso: array['0'..'9'] of longint =
     (1000009991,144725767,170,2,3,777041,
     43992,
     10034839,
     100042904,
     901062665);

var
    n: longint;
    sopt, sum: real;
    d1, c1, d2, c2, sl: longint;
    diem, tg, tg1: longint;
    f, f1: text;
    chon: char;
var i: longint;

procedure Cham;
var    Ok: boolean;
begin
    diem:=0;
    d2:=0;
    assign(f,fin); reset(f);
    readln(f,n);
    writeln;  writeln('n = ',n); writeln;
    assign(f1,fou); reset(f1);
    readln(f1,sl);
    readln(f1, d1);
    tg1:=d1;
    Ok:= false;
    for i:=2 to sl do
    begin
        read(f1, tg);
        if (tg<0) or (tg>n) then
        begin
            writeln('???????????????????????????????????????????????????');
            writeln('    ERROR: Khong co chi so: ',tg);
            writeln('???????????????????????????????????????????????????');
            exit;
        end;
        if (tg<d1) and (not ok) then
        begin
            d2:= tg;
            c1:=d1+i-2;
            Ok:=true;
            tg1:= d2-1;
        end;
        if abs(tg1-tg)<>1 then
        begin
            writeln('???????????????????????????????????????????????????');
            writeln('    ERROR: Loi chi so khong lien tiep: ',tg1,' ==> ' ,tg);
            writeln('???????????????????????????????????????????????????');
            exit;
        end;
        tg1:=tg;
    end;
    if Ok then
    begin
       c2:=tg;
       if c2<d2 then
       begin
          writeln('???????????????????????????????????????????????????');
          writeln('    ERROR: Loi chi so khong lien tuc: d2 ',d2,' c2 = ',c2);
          writeln('???????????????????????????????????????????????????');
          exit;
       end;
    end
    else
    begin
       c1:=tg;
       if c1<d1 then
       begin
          writeln('???????????????????????????????????????????????????');
          writeln('    ERROR: Loi chi so khong lien tuc: d1 ',d1,' c1 = ',c1);
          writeln('???????????????????????????????????????????????????');
          exit;
       end;
    end;
    close(f1);
    reset(f); readln(f,n);
    sopt:=0;
    if d2>0 then
    begin
        if c1<d1 then
        begin
           writeln('???????????????????????????????????????????????????');
           writeln('    ERROR: Loi chi so khong lien tuc: d1 ',d1,' c1 = ',c1);
           writeln('???????????????????????????????????????????????????');
           exit;
        end;
        for i:=1 to d2-1 do readln(f,tg);
        for i:= d2 to c2 do
        begin
            readln(f,tg);
            sopt:=sopt+tg;
        end;
        for i:=c2+1 to d1-1 do readln(f,tg);
        for i:= d1 to c1 do
        begin
            readln(f,tg);
            sopt:=sopt+tg;
        end;
    end
    else
    begin
        for i:=1 to d1-1 do readln(f,tg);
        for i:= d1 to c1 do
        begin
            readln(f,tg);
            sopt:=sopt+tg;
        end;
     end;
     close(f);
     if sopt <> dapso[chon] then
     begin
           writeln('???????????????????????????????????????????????????');
           writeln('    ERROR: Khong dung dap so: Tong tim duoc = ',sopt:0:0);
           writeln('                                     Dap so = ',dapso[chon]);
           writeln('???????????????????????????????????????????????????');
           exit;
     end;
     writeln; writeln;writeln;
     writeln('***********************************************');
     writeln('        C O R R E C T !   C O R R E C T!');
     writeln('***********************************************');
     diem:=1;
end;

BEGIN
   Clrscr;
   writeln('            ===========================================');
   writeln('                  CHUONG TRINH CHAM BAI DAY SO');
   writeln('            ===========================================');
   write  ('                  Cho ten file test: DAY.IN');
   chon:=readkey; writeln(chon);
   fin:= 'DAY.IN'+chon;
   Cham;
   writeln; writeln;
   writeln('            ====================================');
   writeln('                       Diem: ',diem);
   writeln('            ====================================');
   readln;
End.






