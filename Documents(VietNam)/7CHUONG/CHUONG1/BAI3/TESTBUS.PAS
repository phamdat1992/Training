(*************************************)
(*          Test bai BUS             *)
(*************************************)

uses crt;
const
    fin: string = 'BUS.IN1';
    fou: string = 'BUS.OUT';
    dapso: array['0'..'9'] of longint = (
0,
147,
34,
21,
1,
10,
100,
20,
0 ,
0 );

var
    dist: longint;
    price: array[1..1000] of longint;
    n, i, j, L: integer;
    f: text;
    chon: char;
    diem: real;

procedure LoadFile;
var i: integer;
begin
    assign(f,fin);Reset(f);
    readln(f,n, L);
    for i:=1 to n do read(f,price[i]);
    close(f);
end;

procedure Cham;
var i, j, k: integer;
    cost, cost1: longint;
begin
   diem:=0;
   assign(f,fou); reset(f);
   readln(f,cost);
   readln(f, k);
   writeln('Ket qua ghi o file: ', cost:8,' ',k:3);
   writeln('            Dap so: ', dapso[chon]:8);
   cost1:=0;
   for i:=1 to k do
   begin
       read(f, j);
       if (j<0) or (j>n) then
       begin
           writeln('????????????????????????????????????????');
           writeln('    ERROR:  Khong co do dai: ', j);
           writeln('????????????????????????????????????????');
           exit;
       end;
       cost1:=cost1+price[j];
   end;
   close(f);
   writeln;
   writeln('Chi phi tim theo cach di: ', cost1);
   if (cost1<>cost) then
   begin
       writeln('????????????????????????????????????????????');
       writeln('    ERROR:  Khong khop voi ket qua cong bo!!!');
       writeln('????????????????????????????????????????????');
       exit;
   end;
   if (cost1<>dapso[chon]) then
   begin
           writeln('????????????????????????????????????????????');
           writeln('          ERROR:  Khong toi uu !');
           writeln('????????????????????????????????????????????');
           exit;
   end;
   diem:=1.5;
   if chon='1' then diem:=1;
   writeln;
   writeln('$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$');
   writeln('        C O R R E C T!');
   writeln('$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$');
end;



BEGIN
     clrscr;
     writeln('     CHUONG TRINH CHAM BAI: BUS');
     writeln('     ==============================');
     write  ('        Cho ten file: BUS.IN'); chon:=readkey;
     writeln(chon); fin:='BUS.IN'+chon;
     LoadFile;
     Cham;
     writeln;
     writeln('                  ***************************');
     writeln('                           Diem: ',diem:4:1);
     writeln('                  ***************************');
     readln;
END.

